<!DOCTYPE html>
<html>
  <body>
    <script type="text/javascript">
      "use strict";
      //   function getMaxSubSum(arr) {//O(n^2)
      //     let maxSum = 0;
      //     for (let i = 0; i < arr.length; i++) {
      //       let partSum = 0;
      //       for (let j = i; j < arr.length; j++) {
      //         partSum += arr[j];
      //         maxSum = Math.max(maxSum, partSum);
      //       }
      //     }
      //     return maxSum;
      //   }
      function getMaxSubSum(arr) {//O(n)
        let maxSum = 0;
        let partialSum = 0;

        for (let item of arr) {
          // arr 中的每个 item
          partialSum += item; // 将其加到 partialSum
          if (partialSum < 0) partialSum = 0; // 如果是负数就置为 0
          maxSum = Math.max(maxSum, partialSum); // 记住最大值
        }

        return maxSum;
      }
      alert(getMaxSubSum([-1, 2, 3, -9])); // 5
      alert(getMaxSubSum([-1, 2, 3, -9, 11])); // 11
      alert(getMaxSubSum([-2, -1, 1, 2])); // 3
      alert(getMaxSubSum([1, 2, 3])); // 6
      alert(getMaxSubSum([100, -9, 2, -3, 5])); // 100
      alert(getMaxSubSum([-1, -2, -3]));
    </script>
  </body>
</html>
